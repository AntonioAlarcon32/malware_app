# CMakeList.txt: proyecto de CMake para malware_test, incluya el origen y defina
# la lógica específica del proyecto aquí.
#

# Agregue un origen al ejecutable de este proyecto.
add_executable (malware_test "malware_test.cpp" "malware_test.h" "include/usb_detection.h" "src/usb_detection.cpp" "include/http_calls.h" "src/http_calls.cpp" "include/shared.h" "src/shared.cpp" "include/SocketShell.h" "src/SocketShell.cpp")

add_definitions(-DCURL_STATICLIB)
target_include_directories(malware_test PRIVATE "${PROJECT_SOURCE_DIR}/libs/curl/headers")
target_link_libraries(malware_test PRIVATE "${PROJECT_SOURCE_DIR}/libs/libcurl/libcurl.lib" Ws2_32)

set(CMAKE_MSVC_RUNTIME_LIBRARY "MultiThreaded$<$<CONFIG:Debug>:Debug>")

if(MSVC)
    set(CMAKE_CXX_FLAGS_RELEASE "${CMAKE_CXX_FLAGS_RELEASE} /MT")
    set(CMAKE_CXX_FLAGS_DEBUG "${CMAKE_CXX_FLAGS_DEBUG} /MTd")
endif()


if (CMAKE_VERSION VERSION_GREATER 3.12)
  set_property(TARGET malware_test PROPERTY CXX_STANDARD 20)
endif()

# TODO: Agregue pruebas y destinos de instalación si es necesario.
